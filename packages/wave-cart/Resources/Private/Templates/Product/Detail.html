<div class="spacer"></div>
<f:link.action action="list" class="backLink">&larr; back to list</f:link.action>

<div class="product-detail">
    <div class="product-image">
        <f:image image="{product.image}" />
    </div>
    <div class="product-data">
        <h1>
            {product.name}
        </h1>
        {type} <br>

        <f:if condition="{f:count(subject: product.variants)} > 0">
            <p class="variant-label">Size:</p>
        </f:if>
        <div class="variants-container">
            <f:for each="{product.variants}" as="variant">
                <div class="variant-option {f:if(condition: '{variant.amount} == 0', then: 'sold-out')}" data-id="{variant.uid}">
                    {variant.size}
                </div>
            </f:for>
        </div>
        <br>
        <p class="variant-label">Price:</p>
        {product.price -> f:format.number(decimals: 2)} € <br>

        <button id="addToCart" class="btn btn-primary" disabled>Add to shopping cart</button> <br>
        <br>
        <p class="variant-label">Description:</p>
        {product.description -> f:format.raw()}
    </div>
</div>

<div id="cartModal" class="modal-overlay">
    <div class="modal-content">
        <button id="closeModal" class="close-btn">&times;</button>
        <p>✅ Successfully added to cart!</p>
        <f:link.page class="btn-primary" pageUid="{cartPageId}">
            Go to Cart
        </f:link.page>
    </div>
</div>
